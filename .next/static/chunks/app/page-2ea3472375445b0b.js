(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{610:function(e,a,t){Promise.resolve().then(t.bind(t,6911))},6911:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return m}});var n=t(7437),r=t(2265),s=t(6691),l=t.n(s),o=t(5654),i=t(4035),c=t(1541),d=t(1827),x=t(263).Buffer;function m(){let[e,a]=(0,r.useState)(null),[t,s]=(0,r.useState)(null),[m,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[p,b]=(0,r.useState)(0),[f,j]=(0,r.useState)(!1),v=(0,r.useRef)(null),N=(0,r.useRef)(null),w=async()=>{g(!0);try{let e=await navigator.mediaDevices.getUserMedia({video:!0});v.current&&(v.current.srcObject=e,v.current.play())}catch(e){console.error("Error accessing the camera:",e)}},y=async()=>{if(!e)return;if(p>=5){j(!0);return}u(!0),s(null);let a=new o.$D("AIzaSyAyT74VJyYZWus5KxxX1VhwUxELJkxGIDo").getGenerativeModel({model:"gemini-1.5-flash"});try{let t=await e.arrayBuffer();console.log(x.from(t).toString("base64"));let n=await a.generateContent(["Identifica esta planta y proporciona informaci\xf3n importante sobre ella en espa\xf1ol.",{inlineData:{data:x.from(t).toString("base64"),mimeType:e.type}}]);console.log(n),n.response?(s(n.response.text()),b(p+1)):s("No se pudo obtener una respuesta del modelo. Por favor, intenta de nuevo.")}catch(e){console.error("Error al identificar la planta:",e),s(e instanceof Error?"Error al identificar la planta: ".concat(e.message,". Por favor, verifica tu conexi\xf3n a internet y la clave API."):"Error desconocido al identificar la planta. Por favor, intenta de nuevo.")}finally{u(!1)}};return(0,n.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,n.jsx)("header",{className:"bg-green-600 text-white p-4",children:(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Itzamn\xe1"})}),(0,n.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"text-center mb-12",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Itzamn\xe1 - Identificador de Plantas"}),(0,n.jsx)("p",{className:"text-xl text-gray-600",children:"Descubre el mundo vegetal con IA"})]}),(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-2xl mx-auto",children:[h?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("video",{ref:v,className:"w-full rounded-lg mb-4"}),(0,n.jsx)("button",{onClick:()=>{if(v.current){var e;let t=document.createElement("canvas");t.width=v.current.videoWidth,t.height=v.current.videoHeight,null===(e=t.getContext("2d"))||void 0===e||e.drawImage(v.current,0,0),t.toBlob(e=>{if(e){var t;a(new File([e],"captured.png",{type:"image/png"})),g(!1),(null===(t=v.current)||void 0===t?void 0:t.srcObject)instanceof MediaStream&&v.current.srcObject.getTracks().forEach(e=>e.stop())}})}},className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition-colors w-full mb-4",children:"Capturar Foto"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors mb-4 w-full",children:"Elegir archivo"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&a(e.target.files[0])},className:"hidden",ref:N}),(0,n.jsx)("button",{onClick:w,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors mb-4 w-full",children:"Usar C\xe1mara"})]}),e&&(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(l(),{src:URL.createObjectURL(e),alt:"Planta cargada",width:300,height:300,className:"rounded-lg mx-auto"})}),(0,n.jsx)("button",{onClick:y,disabled:!e||m,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors w-full",children:m?"Identificando...":"Identificar Planta"}),t&&(0,n.jsxs)("div",{className:"mt-8 p-6 bg-white rounded-lg shadow-lg",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-green-700",children:"Resultado:"}),(0,n.jsx)("p",{className:"text-lg mb-4",children:t}),(0,n.jsx)("div",{className:"mt-8 border-t pt-4",children:(0,n.jsxs)("p",{className:"text-gray-500",children:["Creado por ",(0,n.jsx)("strong",{children:"Iran Lewis"})," con"," ",(0,n.jsx)("a",{href:"https://neuralcodelab.com",target:"_blank",className:"text-blue-500 hover:underline",children:"NeuralCodeLab.com"}),"."]})})]})]}),(0,n.jsxs)("section",{className:"mt-16",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold text-center mb-8",children:"C\xf3mo funciona"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center flex flex-col items-center",children:[(0,n.jsx)(i.Z,{className:"mb-4 text-green-500",size:48}),(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"1. Toma una foto"}),(0,n.jsx)("p",{children:"Captura una imagen clara de la planta que deseas identificar."})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center flex flex-col items-center",children:[(0,n.jsx)(c.Z,{className:"mb-4 text-blue-500",size:48}),(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"2. Sube la imagen"}),(0,n.jsx)("p",{children:'Carga la foto en nuestra aplicaci\xf3n usando el bot\xf3n "Elegir archivo".'})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center flex flex-col items-center",children:[(0,n.jsx)(d.Z,{className:"mb-4 text-purple-500",size:48}),(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"3. Obt\xe9n resultados"}),(0,n.jsx)("p",{children:"Nuestro sistema de IA analizar\xe1 la imagen y te proporcionar\xe1 informaci\xf3n sobre la planta."})]})]})]})]}),f&&(0,n.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-sm text-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\xa1Gracias por usar Itzamn\xe1!"}),(0,n.jsx)("p",{className:"mb-4",children:"Has realizado 5 consultas gratuitas. Considera apoyar nuestro proyecto con una donaci\xf3n para mantener el servicio funcionando."}),(0,n.jsx)("a",{href:"https://paypal.me/exxxtasisM?country.x=GT&locale.x=es_XC",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition-colors",children:"Donar con PayPal"}),(0,n.jsx)("button",{onClick:()=>j(!1),className:"mt-4 text-gray-500 hover:text-gray-700 transition-colors",children:"Continuar sin donar"})]})}),(0,n.jsxs)("footer",{className:"bg-green-600 text-white p-4 text-center",children:[(0,n.jsx)("p",{children:"\xa9 2024 Itzamn\xe1 - Identificador de Plantas. Todos los derechos reservados."}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("p",{children:"\xbfTe gusta nuestra aplicaci\xf3n? \xa1Ap\xf3yanos con una donaci\xf3n!"}),(0,n.jsx)("a",{href:"https://paypal.me/exxxtasisM?country.x=GT&locale.x=es_XC",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-yellow-500 text-white px-4 py-2 mt-2 rounded hover:bg-yellow-600 transition-colors",children:"Donar con PayPal"})]})]})]})}}},function(e){e.O(0,[283,971,938,744],function(){return e(e.s=610)}),_N_E=e.O()}]);